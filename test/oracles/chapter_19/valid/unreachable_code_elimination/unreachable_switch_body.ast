(Ast.Program
   [(Ast.FunDecl
       { Ast.name = (Ast.Identifier "target");
         params = [(Ast.Identifier "flag")];
         body =
         (Some (Ast.Block
                  [(Ast.S
                      Ast.Switch {cond = (Ast.Var (Ast.Identifier "flag"));
                        body =
                        (Ast.Compound
                           (Ast.Block
                              [(Ast.D
                                  (Ast.VarDecl
                                     { Ast.name = (Ast.Identifier "x");
                                       init = (Some (Ast.LiteralInt 0));
                                       storage = (Some Ast.Static) }));
                                (Ast.S
                                   Ast.For {
                                     init =
                                     (Ast.InclDecl
                                        { Ast.name = (Ast.Identifier "i");
                                          init = (Some (Ast.LiteralInt 0));
                                          storage = None });
                                     cond =
                                     (Some Ast.Binary {op = Ast.LessThan;
                                             left =
                                             (Ast.Var (Ast.Identifier "i"));
                                             right =
                                             (Ast.Var (Ast.Identifier "flag"))});
                                     post =
                                     (Some (Ast.Assignment (
                                              (Ast.Var (Ast.Identifier "i")),
                                              Ast.Binary {op = Ast.Add;
                                                left =
                                                (Ast.Var (Ast.Identifier "i"));
                                                right = (Ast.LiteralInt 1)}
                                              )));
                                     body =
                                     (Ast.Compound
                                        (Ast.Block
                                           [(Ast.S
                                               Ast.Switch {
                                                 cond =
                                                 (Ast.Var
                                                    (Ast.Identifier "i"));
                                                 body =
                                                 (Ast.Compound
                                                    (Ast.Block
                                                       [(Ast.S
                                                           Ast.Case {
                                                             value =
                                                             (Ast.LiteralInt
                                                                1);
                                                             body =
                                                             (Ast.Expression
                                                                (Ast.Assignment (
                                                                   (Ast.Var
                                                                    (Ast.Identifier
                                                                    "x")),
                                                                   Ast.Binary {
                                                                    op =
                                                                    Ast.Add;
                                                                    left =
                                                                    (
                                                                    Ast.Var
                                                                    (Ast.Identifier
                                                                    "x"));
                                                                    right =
                                                                    (
                                                                    Ast.LiteralInt
                                                                    1)}
                                                                   )));
                                                             id = None});
                                                         (Ast.S
                                                            Ast.Case {
                                                              value =
                                                              (Ast.LiteralInt
                                                                 2);
                                                              body =
                                                              (Ast.Expression
                                                                 (Ast.Assignment (
                                                                    (
                                                                    Ast.Var
                                                                    (Ast.Identifier
                                                                    "x")),
                                                                    Ast.Binary {
                                                                    op =
                                                                    Ast.Add;
                                                                    left =
                                                                    (
                                                                    Ast.Var
                                                                    (Ast.Identifier
                                                                    "x"));
                                                                    right =
                                                                    (
                                                                    Ast.LiteralInt
                                                                    2)})));
                                                              id = None});
                                                         (Ast.S
                                                            Ast.Default {
                                                              body =
                                                              (Ast.Expression
                                                                 (Ast.Assignment (
                                                                    (
                                                                    Ast.Var
                                                                    (Ast.Identifier
                                                                    "x")),
                                                                    Ast.Binary {
                                                                    op =
                                                                    Ast.Multiply;
                                                                    left =
                                                                    (
                                                                    Ast.Var
                                                                    (Ast.Identifier
                                                                    "x"));
                                                                    right =
                                                                    (
                                                                    Ast.LiteralInt
                                                                    3)})));
                                                              id = None})
                                                         ]));
                                                 id = None})
                                             ]));
                                     id = None});
                                (Ast.S
                                   (Ast.Return (Ast.Var (Ast.Identifier "x"))))
                                ]));
                        id = None});
                    (Ast.S (Ast.Return (Ast.LiteralInt 0)))]));
         storage = None });
     (Ast.FunDecl
        { Ast.name = (Ast.Identifier "main"); params = [];
          body =
          (Some (Ast.Block
                   [(Ast.S
                       (Ast.Return
                          Ast.FunctionCall {name = (Ast.Identifier "target");
                            args = [(Ast.LiteralInt 20)]}))
                     ]));
          storage = None })
     ])
