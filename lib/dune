(library
 (name subc)
 (modules
  io
  env
  token
  lexer
  parser
  ast
  ast_resolution
  irgen
  ir
  codegen
  codegen_lower
  codegen_fixup
  asm
  emit)
 (preprocess
  (pps ppx_deriving.show)))

(menhir
 (modules parser)
 (flags --external-tokens Token))

(ocamllex lexer)
